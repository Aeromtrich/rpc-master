<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.3.0 Chrome/140.0.7339.249 Electron/38.7.2 Safari/537.36" version="29.3.0">
  <diagram name="第 1 页" id="z87kozAuE5pX91Fea74W">
    <mxGraphModel dx="3579" dy="1351" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="1920" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="820" width="1050" x="-1070" y="170" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-3" edge="1" parent="oBcN0H2LNpYQoeTPZNVO-1" source="oBcN0H2LNpYQoeTPZNVO-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="oBcN0H2LNpYQoeTPZNVO-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-7" parent="oBcN0H2LNpYQoeTPZNVO-1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="VerxTcpServer-TcpServerHander" vertex="1">
          <mxGeometry height="30" width="200" x="14.331818181818182" y="125.27777777777774" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-25" edge="1" parent="oBcN0H2LNpYQoeTPZNVO-1" source="oBcN0H2LNpYQoeTPZNVO-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="oBcN0H2LNpYQoeTPZNVO-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-8" parent="oBcN0H2LNpYQoeTPZNVO-1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="hander方法" vertex="1">
          <mxGeometry height="30" width="80" x="377.3464062660299" y="125.27777777777774" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-9" parent="oBcN0H2LNpYQoeTPZNVO-1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="1 解码&lt;div&gt;从本地注册器中拿到服务实现类&lt;br&gt;&lt;div&gt;2 反射调用 method.invoke方法&lt;/div&gt;&lt;div&gt;3构造RpcRsponse&lt;/div&gt;&lt;div&gt;4编码发出&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="182.22742857142856" width="147.65625" x="623.4375" y="50.13394805194805" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-2" edge="1" parent="oBcN0H2LNpYQoeTPZNVO-1" source="oBcN0H2LNpYQoeTPZNVO-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="oBcN0H2LNpYQoeTPZNVO-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bRpIeNP4qLkMaSWR5B6_-30" parent="oBcN0H2LNpYQoeTPZNVO-1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="HttpServerHander hander方法" vertex="1">
          <mxGeometry height="30" width="180" x="27.96742402951237" y="341.66666666666663" as="geometry" />
        </mxCell>
        <mxCell id="M8wU_xRPG1s27JFURRzf-13" parent="oBcN0H2LNpYQoeTPZNVO-1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="反序列化得到RpcRequest&lt;div&gt;反射调用&lt;/div&gt;&lt;div&gt;执行真正方法&lt;/div&gt;&lt;div&gt;序列化RpcResponse返回出去&lt;/div&gt;" vertex="1">
          <mxGeometry height="182.2222222222222" width="152.48469811939194" x="429.99521801556267" y="265.5588888888888" as="geometry" />
        </mxCell>
        <mxCell id="M8wU_xRPG1s27JFURRzf-14" edge="1" parent="oBcN0H2LNpYQoeTPZNVO-1" source="bRpIeNP4qLkMaSWR5B6_-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" target="M8wU_xRPG1s27JFURRzf-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-5" parent="oBcN0H2LNpYQoeTPZNVO-1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="providerBootstarp&lt;div&gt;.init(serviceList&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="120" x="14.326105716369117" y="578.5598411580594" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-10" parent="oBcN0H2LNpYQoeTPZNVO-1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="1.rpcApp.init 加载app配置&amp;nbsp;&lt;div&gt;2.init(newRpcConfig)初始化配置中心 注册服务&lt;div&gt;3.拿到配置启动服务器&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="115.49472222222222" width="344.0527871734093" x="196.87498826133407" y="540.8196111111112" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-24" parent="oBcN0H2LNpYQoeTPZNVO-1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="提供者&amp;nbsp;&lt;div&gt;8080 HTTP服务端口&amp;nbsp;&lt;/div&gt;&lt;div&gt;9090 rpc端口&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="140" x="68.18181818181819" y="26.194444444444446" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-67" parent="oBcN0H2LNpYQoeTPZNVO-1" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="220" width="330" x="610" y="500" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-66" parent="JBQeUsI5LZvYM7Zje36z-67" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="&lt;div&gt;&lt;br class=&quot;Apple-interchange-newline&quot;&gt;&lt;br&gt;&lt;/div&gt;先本地注册 concurrenthashMap LocalRegistry&lt;div&gt;userService:userServiceImp&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;注册服务到注册中心&lt;/div&gt;&lt;div&gt;UserService:8080&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;添加到本地缓存 localRegisterNodeKeySet&lt;/div&gt;&lt;div&gt;UserService:8080&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;text-align: left; text-wrap-mode: nowrap;&quot;&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="270" x="19.997692307692304" y="20" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="1000" width="1050" x="30" y="170" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-8" parent="oBcN0H2LNpYQoeTPZNVO-2" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="comsumerbootsrap.init" vertex="1">
          <mxGeometry height="30" width="140" x="189.99660273398243" y="862.5039529914527" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-11" parent="oBcN0H2LNpYQoeTPZNVO-2" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="rpc.init()配置文件加载 configUtils Hutool的工具加载&lt;div&gt;配置已全部加载到全局变量 rpcConfig&lt;/div&gt;" vertex="1">
          <mxGeometry height="138.88888888888886" width="79.5454545454545" x="439.9967995018677" y="812.5027777777777" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-19" parent="oBcN0H2LNpYQoeTPZNVO-2" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="679.4871794871794" width="517.8123711340206" x="29.999175257731956" y="49.68814102564102" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-44" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="bRpIeNP4qLkMaSWR5B6_-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="JBQeUsI5LZvYM7Zje36z-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bRpIeNP4qLkMaSWR5B6_-31" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="RegistryFactory.get出registry实例&lt;div&gt;服务发现 返回一个ServiceMetaInfo列表&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="240" x="11.330467663908575" y="142.55724696151117" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-50" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="bRpIeNP4qLkMaSWR5B6_-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="bRpIeNP4qLkMaSWR5B6_-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bRpIeNP4qLkMaSWR5B6_-42" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;try&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;RetryStrategyFactory&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;.get出RetryStrategy&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;retryStrategy.doRetry()&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;填入doRequest&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="140" x="64.94571334468478" y="355.1857083830329" as="geometry" />
        </mxCell>
        <mxCell id="bRpIeNP4qLkMaSWR5B6_-44" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="catch&lt;div&gt;tolerantStrategyFactory&lt;/div&gt;&lt;div&gt;.get出tolerantStrategy.doTolerant&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="200" x="32.47246915689423" y="512.8167571002019" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-11" parent="JBQeUsI5LZvYM7Zje36z-19" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="1.把RPC请求&lt;div&gt;构造ProtocolMessage&lt;div&gt;2编码发出&lt;/div&gt;&lt;div&gt;3.等响应&lt;/div&gt;&lt;div&gt;4.返回数据即可&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="160.94871794871793" width="118.64999999999999" x="315.67783505154637" y="142.5551282051282" as="geometry" />
        </mxCell>
        <mxCell id="oBcN0H2LNpYQoeTPZNVO-10" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="VerxTcpClient.doRequest&amp;nbsp;&lt;div&gt;发送Rpc请求拿到响应&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="160" x="278.29813844020634" y="380.1906266810113" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-49" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="JBQeUsI5LZvYM7Zje36z-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="bRpIeNP4qLkMaSWR5B6_-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-43" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="LoadBalancerFactory&lt;div&gt;.get出一个loadBalancer&lt;/div&gt;&lt;div&gt;.select出一个ServiceMetaInfo&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="43.29857891026323" y="230.77523758292998" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-52" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="oBcN0H2LNpYQoeTPZNVO-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.358;entryY=1.02;entryDx=0;entryDy=0;entryPerimeter=0;" target="oBcN0H2LNpYQoeTPZNVO-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-53" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="构造RPC请求" vertex="1">
          <mxGeometry height="30" width="100" x="81.32793814432989" y="10.311538461538461" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-56" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="bRpIeNP4qLkMaSWR5B6_-31" style="endArrow=classic;html=1;rounded=0;exitX=0.738;exitY=-0.005;exitDx=0;exitDy=0;exitPerimeter=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="190.00082474226804" y="140.31185897435898" as="sourcePoint" />
            <mxPoint x="240.00082474226804" y="90.31185897435898" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-58" parent="JBQeUsI5LZvYM7Zje36z-19" style="whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="69.69" width="270" x="232.47" y="40.31" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-57" parent="JBQeUsI5LZvYM7Zje36z-58" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="放入缓存&lt;div&gt;watch监听机制 被delete时自动删除缓存&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="230" x="17.629428571428573" y="14.846405" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-61" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="JBQeUsI5LZvYM7Zje36z-53" style="endArrow=classic;html=1;rounded=0;exitX=0.341;exitY=0.951;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.014;entryY=0.367;entryDx=0;entryDy=0;entryPerimeter=0;" target="JBQeUsI5LZvYM7Zje36z-58" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="120.00082474226804" y="100.31185897435898" as="sourcePoint" />
            <mxPoint x="170.00082474226804" y="50.311858974358984" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-69" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="JBQeUsI5LZvYM7Zje36z-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="bRpIeNP4qLkMaSWR5B6_-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-62" parent="JBQeUsI5LZvYM7Zje36z-19" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="优先从缓存中取" vertex="1">
          <mxGeometry height="30" width="110" x="110.00082474226804" y="50.311858974358984" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-71" edge="1" parent="JBQeUsI5LZvYM7Zje36z-19" source="bRpIeNP4qLkMaSWR5B6_-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.022;entryY=0.478;entryDx=0;entryDy=0;entryPerimeter=0;" target="oBcN0H2LNpYQoeTPZNVO-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-32" parent="oBcN0H2LNpYQoeTPZNVO-2" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="666.6666666666665" width="411.34020618556696" x="590.000824742268" y="49.692628205128194" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-3" parent="JBQeUsI5LZvYM7Zje36z-32" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;" value="&lt;div&gt;1.SerialzerFactory拿到&lt;b&gt;&lt;font style=&quot;font-size: 14px; background-color: rgb(255, 157, 38);&quot;&gt;序列化器&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;2.rpc请求序列化一下&lt;/div&gt;3.发送http请求&lt;div&gt;4.拿到响应再反序列化&lt;/div&gt;" vertex="1">
          <mxGeometry height="240.74074074074068" width="193.42105263157893" x="97.17589765328265" y="346.15420227920214" as="geometry" />
        </mxCell>
        <mxCell id="Rk-BxHf28-0AiVOfme5U-2" parent="JBQeUsI5LZvYM7Zje36z-32" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;flipH=1;legacyAnchorPoints=0;" value="HttpClient.doRequest" vertex="1">
          <mxGeometry height="30" width="140" x="97.17371134020617" y="27.77777777777777" as="geometry" />
        </mxCell>
        <mxCell id="bRpIeNP4qLkMaSWR5B6_-40" parent="JBQeUsI5LZvYM7Zje36z-32" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" value="ServiceProxy继承InvocationHander&lt;div&gt;执行重写的.invoke方法&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="210" x="59.28854304741545" y="230.76686563235464" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-36" edge="1" parent="JBQeUsI5LZvYM7Zje36z-32" source="bRpIeNP4qLkMaSWR5B6_-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.377;entryY=0.007;entryDx=0;entryDy=0;entryPerimeter=0;" target="Rk-BxHf28-0AiVOfme5U-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-38" parent="JBQeUsI5LZvYM7Zje36z-32" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="ServiceProxyFactory&lt;div&gt;new 出一个ServiceProxy&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="160" x="86.35213815789483" y="141.02920227920228" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-39" edge="1" parent="JBQeUsI5LZvYM7Zje36z-32" source="Rk-BxHf28-0AiVOfme5U-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="JBQeUsI5LZvYM7Zje36z-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="183.75276315789486" y="103.81944444444441" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-41" edge="1" parent="JBQeUsI5LZvYM7Zje36z-32" source="JBQeUsI5LZvYM7Zje36z-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.486;entryY=0.041;entryDx=0;entryDy=0;entryPerimeter=0;" target="bRpIeNP4qLkMaSWR5B6_-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-33" edge="1" parent="oBcN0H2LNpYQoeTPZNVO-2" source="Rk-BxHf28-0AiVOfme5U-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" target="Rk-BxHf28-0AiVOfme5U-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-64" parent="1" style="rounded=0;whiteSpace=wrap;html=1;container=1;" value="" vertex="1">
          <mxGeometry height="320" width="550" x="-570" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-63" parent="JBQeUsI5LZvYM7Zje36z-64" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="&lt;span style=&quot;text-align: left; text-wrap-mode: nowrap;&quot;&gt;连接ETCD&amp;nbsp;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;text-align: left; text-wrap-mode: nowrap;&quot;&gt;启动heatbeat心跳任务&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;text-wrap-mode: nowrap;&quot;&gt;每10s 根据&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); text-align: center;&quot;&gt;localRegisterNodeKeySet&lt;/span&gt;&lt;span style=&quot;text-wrap-mode: nowrap; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;从etcd查询 过期跳过 未过期续约&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;text-wrap-mode: nowrap; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;注册JVM钩子 退出时执行服务销毁 根据&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); text-align: center;&quot;&gt;localRegisterNodeKeySet删除ETCD的所有服务&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="490" x="13.352997194274609" y="39.99666666666685" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-65" parent="JBQeUsI5LZvYM7Zje36z-64" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;autosize=1;resizable=0;" value="RPC.init" vertex="1">
          <mxGeometry height="30" width="70" x="224.27631975439937" y="-2.842170943040401e-14" as="geometry" />
        </mxCell>
        <mxCell id="JBQeUsI5LZvYM7Zje36z-70" edge="1" parent="1" source="JBQeUsI5LZvYM7Zje36z-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="JBQeUsI5LZvYM7Zje36z-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
